{"code":"(this.webpackJsonpvidly=this.webpackJsonpvidly||[]).push([[0],{17:function(e){e.exports=JSON.parse('{\"a\":\"http://localhost:3900/api\"}')},50:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),o=a(19),s=a.n(o),c=(a(50),a(3)),l=a(4),i=a(6),u=a(5),m=a(2),p=a(22),d=a(1),h=a.n(d),v=a(10),f=a(20),b=a.n(f);var g={init:function(){},log:function(e){console.error(e)}};b.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||p.b.error(\"An unexpected error occured\"),g.log(e),Promise.reject(e)}));var E={get:b.a.get,post:b.a.post,put:b.a.put,delete:b.a.delete,patch:b.a.patch,setJwt:function(e){b.a.defaults.headers.common[\"x-auth-token\"]=e}},y=a(17),k=a(43),O=y.a+\"/auth\",j=\"token\";function S(){return(S=Object(v.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post(O,{email:t,password:a});case 2:n=e.sent,r=n.data,localStorage.setItem(j,r);case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return localStorage.getItem(j)}E.setJwt(w());var C={login:function(e,t){return S.apply(this,arguments)},logout:function(){localStorage.removeItem(j)},getCurrentUser:function(){try{var e=localStorage.getItem(j);return Object(k.a)(e)}catch(t){return null}},loginWithJwt:function(e){localStorage.setItem(j,e)},getJwt:w},N=a(7),x=function(e){var t=e.user;return r.a.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\"},r.a.createElement(N.b,{className:\"navbar-brand\",to:\"/\"},\"Vidly\"),r.a.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},r.a.createElement(\"span\",{className:\"navbar-toggler-icon\"})),r.a.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\"},r.a.createElement(\"ul\",{className:\"navbar-nav\"},r.a.createElement(N.c,{className:\"nav-item nav-link\",to:\"/movies\"},\"Movies\"),r.a.createElement(N.c,{className:\"nav-item nav-link\",to:\"/customers\"},\"Customers\"),r.a.createElement(N.c,{className:\"nav-item nav-link\",to:\"/rentals\"},\"Rentals\"),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.c,{className:\"nav-item nav-link\",to:\"/login\"},\"Login\"),r.a.createElement(N.c,{className:\"nav-link\",to:\"/register\"},\"Register\")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.c,{className:\"nav-item nav-link\",to:\"/profile\"},t.name),r.a.createElement(N.c,{className:\"nav-item nav-link\",to:\"/logout\"},\"Logout\")))))},I=a(12),P=a(31),R=y.a+\"/movies/\";function _(e){return\"\".concat(R,\"/\").concat(e)}function D(){return E.get(R)}function G(e){return E.get(_(e))}function M(e){return E.delete(_(e))}function A(e){if(e._id){var t=Object(I.a)({},e);return delete t._id,E.put(_(e._id),t)}E.post(R,e)}function q(){return E.get(y.a+\"/genres\")}var L=a(18),T=a.n(L),U=function(e){var t=e.itemsCount,a=e.pageSize,n=e.currentPage,o=Math.ceil(t/a);if(1===o)return null;var s=T.a.range(1,o+1);return r.a.createElement(\"nav\",null,r.a.createElement(\"ul\",{className:\"pagination\"},s.map((function(t){return r.a.createElement(\"li\",{key:t,className:t===n?\"page-item active\":\"page-item\"},r.a.createElement(\"a\",{className:\"page-link\",onClick:function(){return e.onPageChange(t)}},t))}))))};function B(e,t,a){var n=(t-1)*a;return T()(e).slice(n).take(a).value()}var J=function(e){var t=e.items,a=e.textProperty,n=e.valueProperty,o=e.onItemSelect,s=e.selectedItem;return r.a.createElement(\"ul\",null,t.map((function(e){return r.a.createElement(\"li\",{key:e[n],className:e===s?\"list-group-item active\":\"list-group-item\",onClick:function(){return o(e)}},e[a])})))};J.defaultProps={textProperty:\"name\",valueProperty:\"id\"};var F=J,Q=function(e){var t=\"fa fa-heart\";return e.liked||(t+=\"-o\"),r.a.createElement(\"i\",{onClick:e.onClick,style:{cursor:\"pointer\"},className:t,\"aria-hidden\":\"true\"})},z=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).raiseSort=function(t){var a=Object(I.a)({},e.props.sortColumn);a.path===t?a.order=\"asc\"===a.order?\"desc\":\"asc\":(a.path=t,a.order=\"asc\"),e.props.onSort(a)},e.renderSortIcon=function(t){var a=e.props.sortColumn;return t.path!==a.path?null:\"asc\"===a.order?r.a.createElement(\"i\",{className:\"fa fa-sort-asc\"}):r.a.createElement(\"i\",{className:\"fa fa-sort-desc\"})},e}return Object(l.a)(a,[{key:\"render\",value:function(){var e=this;return r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,this.props.columns.map((function(t){return r.a.createElement(\"th\",{className:\"clickable\",key:t.path||t.key,onClick:function(){return e.raiseSort(t.path)}},t.lable,\" \",e.renderSortIcon(t))}))))}}]),a}(n.Component),W=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderCell=function(e,t){return t.content?t.content(e):T.a.get(e,t.path)},e}return Object(l.a)(a,[{key:\"render\",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return r.a.createElement(\"tbody\",null,a.map((function(t){return r.a.createElement(\"tr\",{key:t._id},n.map((function(a){return r.a.createElement(\"td\",{key:t._id+(a.path||a.key)},e.renderCell(t,a))})))})))}}]),a}(n.Component),V=function(e){var t=e.columns,a=e.sortColumn,n=e.onSort,o=e.data;return r.a.createElement(\"table\",{className:\"table\"},r.a.createElement(z,{columns:t,sortColumn:a,onSort:n}),r.a.createElement(W,{data:o,columns:t}))},$=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a),(e=t.call(this)).columns=[{path:\"title\",lable:\"Title\",content:function(e){return r.a.createElement(N.b,{to:\"/movies/\".concat(e._id)},e.title)}},{path:\"genre.name\",lable:\"Genre\"},{path:\"numberInStock\",lable:\"Stock\"},{path:\"dailyRentalRate\",lable:\"Rate\"},{key:\"like\",content:function(t){return r.a.createElement(Q,{liked:t.liked,onClick:function(){return e.props.onLike(t)}})}}],e.deleteColumn={key:\"delete\",content:function(t){return r.a.createElement(\"button\",{onClick:function(){return e.props.onDelete(t)},className:\"btn btn-danger btn-sm\"},\"Delete\")}};var n=C.getCurrentUser();return n&&n.isAdmin&&e.columns.push(e.deleteColumn),e}return Object(l.a)(a,[{key:\"render\",value:function(){var e=this.props,t=e.movies,a=e.onSort,n=e.sortColumn;return r.a.createElement(V,{columns:this.columns,data:t,onSort:a,sortColumn:n})}}]),a}(n.Component),H=function(e){var t=e.value,a=e.onChange;return r.a.createElement(\"input\",{type:\"text name=\",query:!0,className:\"form-control my-3\",placeholder:\"Search...\",value:t,onChange:function(e){return a(e.currentTarget.value)}})},K=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movies:D(),pageSize:4,currentPage:1,genres:[],sortColumn:{path:\"title\",order:\"asc\"},searchQuery:\"\",selectedGenre:null},e.handleDelete=function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.movies,r=n.filter((function(e){return e._id!==a._id})),e.setState({movies:r}),t.prev=3,t.next=6,M(a._id);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(3),t.t0.response&&404===t.t0.response.status&&p.b.error(\"This movie has already been deleted.\"),e.setState({movies:n});case 12:case\"end\":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleLike=function(t){var a=Object(P.a)(e.state.movies),n=a.indexOf(t);a[n]=Object(I.a)({},a[n]),a[n].liked=!a[n].liked,e.setState({movies:a})},e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleGenreSelect=function(t){e.setState({selectedGenre:t,searchQuery:\"\",currentPage:1})},e.handleSort=function(t){e.setState({sortColumn:t})},e.handleSearch=function(t){e.setState({searchQuery:t,selectedGenre:null,currentPage:1})},e.getPagedDate=function(){var t=e.state,a=t.pageSize,n=t.currentPage,r=t.selectedGenre,o=t.movies,s=t.sortColumn,c=o;e.state.searchQuery?c=o.filter((function(t){return t.title.toLowerCase().startsWith(e.state.searchQuery.toLowerCase())})):r&&r._id&&(c=o.filter((function(e){return e.genre._id===r._id})));var l=B(T.a.orderBy(c,[s.path],[s.order]),n,a);return{totalCount:c.length,data:l}},e}return Object(l.a)(a,[{key:\"componentDidMount\",value:function(){var e=Object(v.a)(h.a.mark((function e(){var t,a,n,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return t=e.sent,a=t.data,n=[{name:\"All Genres\"}].concat(Object(P.a)(a)),e.next=7,D();case 7:r=e.sent,o=r.data,this.setState({movies:o,genres:n});case 10:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.state.movies.length,t=this.state,a=t.pageSize,n=t.currentPage,o=t.sortColumn,s=this.props.user;if(0===e)return r.a.createElement(\"p\",null,\"There are no movies in the database.\");var c=this.getPagedDate(),l=c.totalCount,i=c.data;return r.a.createElement(\"div\",{className:\"row\"},r.a.createElement(\"div\",{className:\"col-3\"},r.a.createElement(F,{items:this.state.genres,selectedItem:this.state.selectedGenre,onItemSelect:this.handleGenreSelect})),r.a.createElement(\"div\",{className:\"col\"},s&&r.a.createElement(N.b,{to:\"/movies/new\",className:\"btn btn-primary\",style:{marginBottom:20}},\"New Movie\"),r.a.createElement(\"p\",null,\"Showing \",l,\" movies in the database.\"),r.a.createElement(H,{value:this.state.searchQuery,onChange:this.handleSearch}),r.a.createElement($,{movies:i,sortColumn:o,onLike:this.handleLike,onDelete:this.handleDelete,onSort:this.handleSort}),r.a.createElement(U,{itemsCount:l,pageSize:a,onPageChange:this.handlePageChange,currentPage:n})))}}]),a}(n.Component),X=function(){return r.a.createElement(\"h1\",null,\"Customers\")},Y=function(){return r.a.createElement(\"h1\",null,\"Rentals\")},Z=function(){return r.a.createElement(\"h1\",null,\"Not Found\")},ee=a(9),te=a.n(ee),ae=a(24),ne=a(45),re=a(23),oe=function(e){var t=e.name,a=e.label,n=e.error,o=Object(re.a)(e,[\"name\",\"label\",\"error\"]);return r.a.createElement(\"div\",{className:\"form-group\"},r.a.createElement(\"label\",{htmlFor:a},a),r.a.createElement(\"input\",Object.assign({},o,{name:t,id:t,className:\"form-control\"})),n&&r.a.createElement(\"div\",{className:\"alert alert-danger\"},n))},se=function(e){var t=e.name,a=e.label,n=e.options,o=e.error,s=Object(re.a)(e,[\"name\",\"label\",\"options\",\"error\"]);return r.a.createElement(\"div\",{className:\"form-group\"},r.a.createElement(\"label\",{htmlFor:t},a),r.a.createElement(\"select\",Object.assign({name:t,id:t},s,{className:\"form-control\"}),r.a.createElement(\"option\",{value:\"\"}),n.map((function(e){return r.a.createElement(\"option\",{key:e._id,value:e._id},e.name)}))),o&&r.a.createElement(\"div\",{className:\"alert alert-danger\"},o))},ce=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{},errors:{}},e.validate=function(){var t=te.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var a,n={},r=Object(ne.a)(t.details);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o.path[0]]=o.message}}catch(s){r.e(s)}finally{r.f()}return n},e.validateProperty=function(t){var a=t.name,n=t.value,r=Object(ae.a)({},a,n),o=Object(ae.a)({},a,e.schema[a]),s=te.a.validate(r,o).error;return s?s.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChange=function(t){var a=t.currentTarget,n=Object(I.a)({},e.state.error),r=e.validateProperty(a);r?n[a.name]=r:delete n[a.name];var o=Object(I.a)({},e.state.data);o[a.name]=a.value,e.setState({data:o,errors:n})},e}return Object(l.a)(a,[{key:\"renderButton\",value:function(e){return r.a.createElement(\"button\",{disabled:this.validate(),className:\"btn btn-primary\"},e)}},{key:\"renderInput\",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"text\",n=this.state,o=n.data,s=n.errors;return r.a.createElement(oe,{type:a,name:e,value:o[e],label:t,onChange:this.handleChange,error:s[e]})}},{key:\"renderSelect\",value:function(e,t,a){var n=this.state,o=n.data,s=n.errors;return r.a.createElement(se,{name:e,value:o[e],label:t,options:a,onChange:this.handleChange,error:s[e]})}}]),a}(n.Component),le=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{title:\"\",genreId:\"\",numberInStock:\"\",dailyRentalRate:\"\"},genres:[],errors:{}},e.schema={_id:te.a.string(),title:te.a.string().required().label(\"Title\"),numberInStock:te.a.number().min(0).max(10).required().label(\"Number In Stock\"),dailyRentalRate:te.a.number().required().label(\"Daily Rental Rate\"),genreId:te.a.string().required().label(\"Genre \")},e.doSubmit=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e.state.data);case 2:e.props.history.push(\"/movies\");case 3:case\"end\":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:\"populateGenres\",value:function(){var e=Object(v.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,a=t.data,this.setState({genres:a});case 5:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"populateMovie\",value:function(){var e=Object(v.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,\"new\"!==(t=this.props.match.params.id)){e.next=4;break}return e.abrupt(\"return\");case 4:return e.next=6,G(t);case 6:a=e.sent,n=a.data,this.setState({data:this.mapToViewModel(n)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.response&&404===e.t0.response.status&&this.props.history.replace(\"/not-found\");case 14:case\"end\":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:\"componentDidMount\",value:function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.populateGenres();case 2:return e.next=4,this.populateMovie();case 4:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"mapToViewModel\",value:function(e){return{_id:e._id,title:e.title,genreId:e.genre._id,numberInStock:e.numberInstock,dailyRentalRate:e.dailyRentalRate}}},{key:\"render\",value:function(){return r.a.createElement(\"div\",null,r.a.createElement(\"h1\",null,\"Movie Form\"),r.a.createElement(\"form\",{onSubmit:this.handleSubmit},this.renderInput(\"title\",\"Title\"),this.renderSelect(\"genreId\",\"Genre\",this.state.genres),this.renderInput(\"numberInStock\",\"Number In Stock\",\"number\"),this.renderInput(\"dailyRentalRate\",\"Rate\"),this.renderButton(\"Save\")))}}]),a}(ce),ie=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:\"\",password:\"\"},errors:{}},e.schema={username:te.a.string().required().label(\"Username\"),password:te.a.string().required().label(\"Password\")},e.doSubmit=Object(v.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.login(e.state.data.username,e.state.data.password);case 3:a=e.props.location.state,window.location=a?a.from.pathname:\"/\",t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&((n=Object(I.a)({},e.state.errors)).username=t.t0.response.data,e.setState({errors:n}));case 10:case\"end\":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(l.a)(a,[{key:\"render\",value:function(){return C.getCurrentUser()?r.a.createElement(m.a,{to:\"/\"}):r.a.createElement(\"div\",null,r.a.createElement(\"h1\",null,\"Login\"),r.a.createElement(\"form\",{onSubmit:this.handleSubmit},this.renderInput(\"username\",\"Username\"),this.renderInput(\"password\",\"Password\",\"password\"),this.renderButton(\"Login\")))}}]),a}(ce),ue=y.a+\"/users\";function me(e){return E.post(ue,{email:e.username,password:e.password,name:e.name})}var pe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:\"\",password:\"\",name:\"\"},errors:{}},e.schema={username:te.a.string().email().required().label(\"Username\"),password:te.a.string().min(5).required().label(\"Password\"),name:te.a.string().required().label(\"Name\")},e.doSubmit=Object(v.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,me(e.state.data);case 3:a=t.sent,C.loginWithJwt(a.headers[\"x-auth-token\"]),e.props.history.push(\"/\"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&((n=Object(I.a)({},e.state.errors)).username=t.t0.response.data,e.setState({errors:n}));case 11:case\"end\":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(l.a)(a,[{key:\"render\",value:function(){return r.a.createElement(\"div\",null,r.a.createElement(\"h1\",null,\"Register\"),r.a.createElement(\"form\",{onSubmit:this.handleSubmit},this.renderInput(\"username\",\"Username\",\"email\"),this.renderInput(\"password\",\"Password\",\"password\"),this.renderInput(\"name\",\"Name\"),this.renderButton(\"Register\")))}}]),a}(ce),de=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:\"componentDidMount\",value:function(){C.logout(),window.location=\"/\"}},{key:\"render\",value:function(){return null}}]),a}(n.Component),he=(a(74),a(75),function(e){e.path;var t=e.component,a=e.render,n=Object(re.a)(e,[\"path\",\"component\",\"render\"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return C.getCurrentUser()?t?r.a.createElement(t,e):a(e):r.a.createElement(m.a,{to:{pathname:\"/login\",state:{from:e.location}}})}}))}),ve=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(l.a)(a,[{key:\"componentDidMount\",value:function(){var e=C.getCurrentUser();this.setState({user:e})}},{key:\"render\",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null),r.a.createElement(x,{user:this.state.user}),r.a.createElement(\"main\",{className:\"container\"},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:\"/register\",component:pe}),r.a.createElement(m.b,{path:\"/login\",component:ie}),r.a.createElement(he,{path:\"/movies/:id\",component:le}),r.a.createElement(m.b,{path:\"/movies\",render:function(t){return r.a.createElement(K,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(m.b,{path:\"/customers\",component:X}),r.a.createElement(m.b,{path:\"/rentals\",component:Y}),r.a.createElement(m.b,{path:\"/not-found\",component:Z}),r.a.createElement(m.b,{path:\"/logout\",component:de}),r.a.createElement(m.a,{from:\"/\",exact:!0,to:\"/movies\"}),r.a.createElement(m.a,{to:\"/not-found\"}))))}}]),a}(n.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(76),a(77);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N.a,null,r.a.createElement(ve,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[78,1,2]]]);","name":"static/js/main.a68ec4f9.chunk.js","map":{"version":3,"sources":["static/js/main.a68ec4f9.chunk.js"],"names":["this","push","17","module","exports","JSON","parse","50","__webpack_require__","75","78","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","react_router","react_toastify_esm","regenerator","regenerator_default","asyncToGenerator","axios","axios_default","logService","init","log","error","console","a","interceptors","response","use","status","Promise","reject","httpService","get","post","put","delete","patch","setJwt","jwt","defaults","headers","common","config","jwt_decode_esm","apiEndpoint","tokenKey","_login","Object","mark","_callee","email","password","_yield$http$post","wrap","_context","prev","next","sent","data","localStorage","setItem","stop","apply","arguments","getJwt","getItem","authServices","login","_x","_x2","logout","removeItem","getCurrentUser","ex","loginWithJwt","react_router_dom","navBar","_ref","user","createElement","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","Fragment","name","objectSpread2","toConsumableArray","movieService_apiEndpoint","movieUrl","concat","getMovies","getMovie","movieId","deleteMovies","saveMovie","movie","_id","body","getGenres","lodash","lodash_default","pagination","props","itemsCount","pageSize","currentPage","pagesCount","Math","ceil","pages","range","map","page","key","onClick","onPageChange","paginate","items","pageNumber","startIndex","slice","take","value","listGroup_ListGroup","textProperty","valueProperty","onItemSelect","selectedItem","item","defaultProps","listGroup","like","classes","liked","style","cursor","aria-hidden","tableHeader","_Component","TableHeader","_super","_this","_len","length","args","Array","_key","call","raiseSort","path","sortColumn","order","onSort","renderSortIcon","column","_this2","columns","lable","tableBody","TableBody","renderCell","content","_this$props","table","moviesTable","MoviesTable","title","onLike","deleteColumn","onDelete","isAdmin","movies","search","_onChange","onChange","query","placeholder","e","currentTarget","components_movies","Movies","state","genres","searchQuery","selectedGenre","handleDelete","originalMovies","filter","m","setState","t0","handleLike","index","indexOf","handlePageChange","handleGenreSelect","genre","handleSort","handleSearch","getPagedDate","_this$state","allmovies","filtered","toLowerCase","startsWith","orderBy","totalCount","_componentDidMount","_callee2","_yield$getGenres","_yield$getMovies","_context2","count","_this$state2","_this$getPagedDate","marginBottom","customers","components_Rentals","notFound","joi_browser","joi_browser_default","defineProperty","createForOfIteratorHelper","objectWithoutProperties","common_input","label","rest","htmlFor","assign","common_select","options","option","common_form","Form","errors","validate","schema","abortEarly","_step","_iterator","details","s","done","message","err","f","validateProperty","obj","handleSubmit","preventDefault","doSubmit","handleChange","_ref2","input","errorMessage","disabled","undefined","movieForms","_Form","MovieForm","genreId","numberInStock","dailyRentalRate","string","required","number","min","max","history","_populateGenres","_populateMovie","_callee3","_yield$getMovie","_context3","match","params","abrupt","mapToViewModel","replace","_callee4","_context4","populateGenres","populateMovie","numberInstock","onSubmit","renderInput","renderSelect","renderButton","loginForm","LoginForm","username","_errors","location","window","from","pathname","userService_apiEndpoint","register","registerForm","RegisterForm","common_logout","Logout","protectedRoute","Component","component","_render","render","src_App_0","App","exact","Boolean","hostname","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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"},"input":"(this[\"webpackJsonpvidly\"] = this[\"webpackJsonpvidly\"] || []).push([[0],{\n\n/***/ 17:\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"a\\\":\\\"http://localhost:3900/api\\\"}\");\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(19);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(50);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-toastify/dist/react-toastify.esm.js + 4 modules\nvar react_toastify_esm = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(1);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(20);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/components/services/logService.js\nfunction init(){}function log(error){console.error(error);}/* harmony default export */ var logService = ({init:init,log:log});\n// CONCATENATED MODULE: ./src/components/services/httpService.js\naxios_default.a.interceptors.response.use(null,function(error){var expectedError=error.response&&error.response.status>=400&&error.response.status<500;if(!expectedError){react_toastify_esm[\"b\" /* toast */].error(\"An unexpected error occured\");}logService.log(error);return Promise.reject(error);});function setJwt(jwt){axios_default.a.defaults.headers.common[\"x-auth-token\"]=jwt;}/* harmony default export */ var httpService = ({get:axios_default.a.get,post:axios_default.a.post,put:axios_default.a.put,delete:axios_default.a.delete,patch:axios_default.a.patch,setJwt:setJwt});\n// EXTERNAL MODULE: ./src/components/config.json\nvar config = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/build/jwt-decode.esm.js\nvar jwt_decode_esm = __webpack_require__(43);\n\n// CONCATENATED MODULE: ./src/components/services/authServices.js\nvar apiEndpoint=config[\"a\" /* apiUrl */]+\"/auth\";var tokenKey=\"token\";httpService.setJwt(getJwt());function login(_x,_x2){return _login.apply(this,arguments);}function _login(){_login=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(email,password){var _yield$http$post,jwt;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return httpService.post(apiEndpoint,{email:email,password:password});case 2:_yield$http$post=_context.sent;jwt=_yield$http$post.data;localStorage.setItem(tokenKey,jwt);case 5:case\"end\":return _context.stop();}}},_callee);}));return _login.apply(this,arguments);}function logout(){localStorage.removeItem(tokenKey);}function getCurrentUser(){try{var jwt=localStorage.getItem(tokenKey);return Object(jwt_decode_esm[\"a\" /* default */])(jwt);}catch(ex){return null;}}function loginWithJwt(jwt){localStorage.setItem(tokenKey,jwt);}function getJwt(){return localStorage.getItem(tokenKey);}/* harmony default export */ var authServices = ({login:login,logout:logout,getCurrentUser:getCurrentUser,loginWithJwt:loginWithJwt,getJwt:getJwt});\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/components/common/navBar.jsx\nvar navBar_NavBar=function NavBar(_ref){var user=_ref.user;return/*#__PURE__*/react_default.a.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\"},/*#__PURE__*/react_default.a.createElement(react_router_dom[\"b\" /* Link */],{className:\"navbar-brand\",to:\"/\"},\"Vidly\"),/*#__PURE__*/react_default.a.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},/*#__PURE__*/react_default.a.createElement(\"span\",{className:\"navbar-toggler-icon\"})),/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\"},/*#__PURE__*/react_default.a.createElement(\"ul\",{className:\"navbar-nav\"},/*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* NavLink */],{className:\"nav-item nav-link\",to:\"/movies\"},\"Movies\"),/*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* NavLink */],{className:\"nav-item nav-link\",to:\"/customers\"},\"Customers\"),/*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* NavLink */],{className:\"nav-item nav-link\",to:\"/rentals\"},\"Rentals\"),!user&&/*#__PURE__*/react_default.a.createElement(react_default.a.Fragment,null,/*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* NavLink */],{className:\"nav-item nav-link\",to:\"/login\"},\"Login\"),/*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* NavLink */],{className:\"nav-link\",to:\"/register\"},\"Register\")),user&&/*#__PURE__*/react_default.a.createElement(react_default.a.Fragment,null,/*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* NavLink */],{className:\"nav-item nav-link\",to:\"/profile\"},user.name),/*#__PURE__*/react_default.a.createElement(react_router_dom[\"c\" /* NavLink */],{className:\"nav-item nav-link\",to:\"/logout\"},\"Logout\")))));};/* harmony default export */ var navBar = (navBar_NavBar);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(31);\n\n// CONCATENATED MODULE: ./src/components/services/movieService.js\nvar movieService_apiEndpoint=config[\"a\" /* apiUrl */]+\"/movies/\";function movieUrl(id){return\"\".concat(movieService_apiEndpoint,\"/\").concat(id);}function getMovies(){return httpService.get(movieService_apiEndpoint);}function getMovie(movieId){return httpService.get(movieUrl(movieId));}function deleteMovies(movieId){return httpService.delete(movieUrl(movieId));}function saveMovie(movie){if(movie._id){var body=Object(objectSpread2[\"a\" /* default */])({},movie);delete body._id;return httpService.put(movieUrl(movie._id),body);}httpService.post(movieService_apiEndpoint,movie);}\n// CONCATENATED MODULE: ./src/components/services/genreService.js\nvar genreService_genres=[{_id:\"5b21ca3eeb7f6fbccd471818\",name:\"Action\"},{_id:\"5b21ca3eeb7f6fbccd471814\",name:\"Comedy\"},{_id:\"5b21ca3eeb7f6fbccd471820\",name:\"Thriller\"}];function getGenres(){return httpService.get(config[\"a\" /* apiUrl */]+\"/genres\");}\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(18);\nvar lodash_default = /*#__PURE__*/__webpack_require__.n(lodash);\n\n// CONCATENATED MODULE: ./src/components/common/pagination.jsx\nvar pagination_Pagination=function Pagination(props){var itemsCount=props.itemsCount,pageSize=props.pageSize,currentPage=props.currentPage;var pagesCount=Math.ceil(itemsCount/pageSize);if(pagesCount===1)return null;var pages=lodash_default.a.range(1,pagesCount+1);return/*#__PURE__*/react_default.a.createElement(\"nav\",null,/*#__PURE__*/react_default.a.createElement(\"ul\",{className:\"pagination\"},pages.map(function(page){return/*#__PURE__*/react_default.a.createElement(\"li\",{key:page,className:page===currentPage?\"page-item active\":\"page-item\"},/*#__PURE__*/react_default.a.createElement(\"a\",{className:\"page-link\",onClick:function onClick(){return props.onPageChange(page);}},page));})));};/* harmony default export */ var pagination = (pagination_Pagination);\n// CONCATENATED MODULE: ./src/utils/paginate.js\nfunction paginate(items,pageNumber,pageSize){var startIndex=(pageNumber-1)*pageSize;return lodash_default()(items).slice(startIndex).take(pageSize).value();}\n// CONCATENATED MODULE: ./src/components/common/listGroup.jsx\nvar listGroup_ListGroup=function ListGroup(_ref){var items=_ref.items,textProperty=_ref.textProperty,valueProperty=_ref.valueProperty,onItemSelect=_ref.onItemSelect,selectedItem=_ref.selectedItem;return/*#__PURE__*/react_default.a.createElement(\"ul\",null,items.map(function(item){return/*#__PURE__*/react_default.a.createElement(\"li\",{key:item[valueProperty],className:item===selectedItem?\"list-group-item active\":\"list-group-item\",onClick:function onClick(){return onItemSelect(item);}},item[textProperty]);}));};listGroup_ListGroup.defaultProps={textProperty:\"name\",valueProperty:\"id\"};/* harmony default export */ var listGroup = (listGroup_ListGroup);\n// CONCATENATED MODULE: ./src/components/common/like.jsx\nvar like_Like=function Like(props){var classes=\"fa fa-heart\";if(!props.liked)classes+=\"-o\";return/*#__PURE__*/react_default.a.createElement(\"i\",{onClick:props.onClick,style:{cursor:\"pointer\"},className:classes,\"aria-hidden\":\"true\"});};/* harmony default export */ var like = (like_Like);\n// CONCATENATED MODULE: ./src/components/common/tableHeader.jsx\nvar tableHeader_TableHeader=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(TableHeader,_Component);var _super=Object(createSuper[\"a\" /* default */])(TableHeader);function TableHeader(){var _this;Object(classCallCheck[\"a\" /* default */])(this,TableHeader);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.raiseSort=function(path){var sortColumn=Object(objectSpread2[\"a\" /* default */])({},_this.props.sortColumn);if(sortColumn.path===path)sortColumn.order=sortColumn.order===\"asc\"?\"desc\":\"asc\";else{sortColumn.path=path;sortColumn.order=\"asc\";}_this.props.onSort(sortColumn);};_this.renderSortIcon=function(column){var sortColumn=_this.props.sortColumn;if(column.path!==sortColumn.path)return null;if(sortColumn.order===\"asc\")return/*#__PURE__*/react_default.a.createElement(\"i\",{className:\"fa fa-sort-asc\"});return/*#__PURE__*/react_default.a.createElement(\"i\",{className:\"fa fa-sort-desc\"});};return _this;}Object(createClass[\"a\" /* default */])(TableHeader,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/react_default.a.createElement(\"thead\",null,/*#__PURE__*/react_default.a.createElement(\"tr\",null,this.props.columns.map(function(column){return/*#__PURE__*/react_default.a.createElement(\"th\",{className:\"clickable\",key:column.path||column.key,onClick:function onClick(){return _this2.raiseSort(column.path);}},column.lable,\" \",_this2.renderSortIcon(column));})));}}]);return TableHeader;}(react[\"Component\"]);/* harmony default export */ var tableHeader = (tableHeader_TableHeader);\n// CONCATENATED MODULE: ./src/components/common/tableBody.jsx\nvar tableBody_TableBody=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(TableBody,_Component);var _super=Object(createSuper[\"a\" /* default */])(TableBody);function TableBody(){var _this;Object(classCallCheck[\"a\" /* default */])(this,TableBody);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderCell=function(item,column){if(column.content)return column.content(item);return lodash_default.a.get(item,column.path);};return _this;}Object(createClass[\"a\" /* default */])(TableBody,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,data=_this$props.data,columns=_this$props.columns;return/*#__PURE__*/react_default.a.createElement(\"tbody\",null,data.map(function(item){return/*#__PURE__*/react_default.a.createElement(\"tr\",{key:item._id},columns.map(function(column){return/*#__PURE__*/react_default.a.createElement(\"td\",{key:item._id+(column.path||column.key)},_this2.renderCell(item,column));}));}));}}]);return TableBody;}(react[\"Component\"]);/* harmony default export */ var tableBody = (tableBody_TableBody);\n// CONCATENATED MODULE: ./src/components/common/table.jsx\nvar table_Table=function Table(_ref){var columns=_ref.columns,sortColumn=_ref.sortColumn,onSort=_ref.onSort,data=_ref.data;return/*#__PURE__*/react_default.a.createElement(\"table\",{className:\"table\"},/*#__PURE__*/react_default.a.createElement(tableHeader,{columns:columns,sortColumn:sortColumn,onSort:onSort}),/*#__PURE__*/react_default.a.createElement(tableBody,{data:data,columns:columns}));};/* harmony default export */ var table = (table_Table);\n// CONCATENATED MODULE: ./src/components/common/moviesTable.jsx\nvar moviesTable_MoviesTable=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(MoviesTable,_Component);var _super=Object(createSuper[\"a\" /* default */])(MoviesTable);function MoviesTable(){var _this;Object(classCallCheck[\"a\" /* default */])(this,MoviesTable);_this=_super.call(this);_this.columns=[{path:\"title\",lable:\"Title\",content:function content(movie){return/*#__PURE__*/react_default.a.createElement(react_router_dom[\"b\" /* Link */],{to:\"/movies/\".concat(movie._id)},movie.title);}},{path:\"genre.name\",lable:\"Genre\"},{path:\"numberInStock\",lable:\"Stock\"},{path:\"dailyRentalRate\",lable:\"Rate\"},{key:\"like\",content:function content(movie){return/*#__PURE__*/react_default.a.createElement(like,{liked:movie.liked,onClick:function onClick(){return _this.props.onLike(movie);}});}}];_this.deleteColumn={key:\"delete\",content:function content(movie){return/*#__PURE__*/react_default.a.createElement(\"button\",{onClick:function onClick(){return _this.props.onDelete(movie);},className:\"btn btn-danger btn-sm\"},\"Delete\");}};var user=authServices.getCurrentUser();if(user&&user.isAdmin)_this.columns.push(_this.deleteColumn);return _this;}Object(createClass[\"a\" /* default */])(MoviesTable,[{key:\"render\",value:function render(){var _this$props=this.props,movies=_this$props.movies,onSort=_this$props.onSort,sortColumn=_this$props.sortColumn;return/*#__PURE__*/react_default.a.createElement(table,{columns:this.columns,data:movies,onSort:onSort,sortColumn:sortColumn});}}]);return MoviesTable;}(react[\"Component\"]);/* harmony default export */ var moviesTable = (moviesTable_MoviesTable);\n// CONCATENATED MODULE: ./src/components/common/search.jsx\nvar search_SearchBox=function SearchBox(_ref){var value=_ref.value,_onChange=_ref.onChange;return/*#__PURE__*/react_default.a.createElement(\"input\",{type:\"text name=\",query:true,className:\"form-control my-3\",placeholder:\"Search...\",value:value,onChange:function onChange(e){return _onChange(e.currentTarget.value);}});};/* harmony default export */ var search = (search_SearchBox);\n// CONCATENATED MODULE: ./src/components/movies.jsx\nvar movies_Movies=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Movies,_Component);var _super=Object(createSuper[\"a\" /* default */])(Movies);function Movies(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Movies);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={movies:getMovies(),pageSize:4,currentPage:1,genres:[],sortColumn:{path:\"title\",order:\"asc\"},searchQuery:\"\",selectedGenre:null};_this.handleDelete=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(movie){var originalMovies,movies;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:originalMovies=_this.state.movies;movies=originalMovies.filter(function(m){return m._id!==movie._id;});_this.setState({movies:movies});_context.prev=3;_context.next=6;return deleteMovies(movie._id);case 6:_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](3);if(_context.t0.response&&_context.t0.response.status===404)react_toastify_esm[\"b\" /* toast */].error(\"This movie has already been deleted.\");_this.setState({movies:originalMovies});case 12:case\"end\":return _context.stop();}}},_callee,null,[[3,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleLike=function(movie){var movies=Object(toConsumableArray[\"a\" /* default */])(_this.state.movies);var index=movies.indexOf(movie);movies[index]=Object(objectSpread2[\"a\" /* default */])({},movies[index]);movies[index].liked=!movies[index].liked;_this.setState({movies:movies});};_this.handlePageChange=function(page){_this.setState({currentPage:page});};_this.handleGenreSelect=function(genre){_this.setState({selectedGenre:genre,searchQuery:\"\",currentPage:1});};_this.handleSort=function(sortColumn){_this.setState({sortColumn:sortColumn});};_this.handleSearch=function(query){_this.setState({searchQuery:query,selectedGenre:null,currentPage:1});};_this.getPagedDate=function(){var _this$state=_this.state,pageSize=_this$state.pageSize,currentPage=_this$state.currentPage,selectedGenre=_this$state.selectedGenre,allmovies=_this$state.movies,sortColumn=_this$state.sortColumn;var filtered=allmovies;if(_this.state.searchQuery)filtered=allmovies.filter(function(m){return m.title.toLowerCase().startsWith(_this.state.searchQuery.toLowerCase());});else if(selectedGenre&&selectedGenre._id)filtered=allmovies.filter(function(m){return m.genre._id===selectedGenre._id;});var sorted=lodash_default.a.orderBy(filtered,[sortColumn.path],[sortColumn.order]);var movies=paginate(sorted,currentPage,pageSize);return{totalCount:filtered.length,data:movies};};return _this;}Object(createClass[\"a\" /* default */])(Movies,[{key:\"componentDidMount\",value:function(){var _componentDidMount=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var _yield$getGenres,data,genres,_yield$getMovies,movies;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getGenres();case 2:_yield$getGenres=_context2.sent;data=_yield$getGenres.data;genres=[{name:\"All Genres\"}].concat(Object(toConsumableArray[\"a\" /* default */])(data));_context2.next=7;return getMovies();case 7:_yield$getMovies=_context2.sent;movies=_yield$getMovies.data;this.setState({movies:movies,genres:genres});case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var count=this.state.movies.length;var _this$state2=this.state,pageSize=_this$state2.pageSize,currentPage=_this$state2.currentPage,sortColumn=_this$state2.sortColumn;var user=this.props.user;if(count===0)return/*#__PURE__*/react_default.a.createElement(\"p\",null,\"There are no movies in the database.\");var _this$getPagedDate=this.getPagedDate(),totalCount=_this$getPagedDate.totalCount,movies=_this$getPagedDate.data;return/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"row\"},/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/react_default.a.createElement(listGroup,{items:this.state.genres,selectedItem:this.state.selectedGenre,onItemSelect:this.handleGenreSelect})),/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"col\"},user&&/*#__PURE__*/react_default.a.createElement(react_router_dom[\"b\" /* Link */],{to:\"/movies/new\",className:\"btn btn-primary\",style:{marginBottom:20}},\"New Movie\"),/*#__PURE__*/react_default.a.createElement(\"p\",null,\"Showing \",totalCount,\" movies in the database.\"),/*#__PURE__*/react_default.a.createElement(search,{value:this.state.searchQuery,onChange:this.handleSearch}),/*#__PURE__*/react_default.a.createElement(moviesTable,{movies:movies,sortColumn:sortColumn,onLike:this.handleLike,onDelete:this.handleDelete,onSort:this.handleSort}),/*#__PURE__*/react_default.a.createElement(pagination,{itemsCount:totalCount,pageSize:pageSize,onPageChange:this.handlePageChange,currentPage:currentPage})));}}]);return Movies;}(react[\"Component\"]);/* harmony default export */ var components_movies = (movies_Movies);\n// CONCATENATED MODULE: ./src/components/customers.jsx\nvar customers_Customers=function Customers(){return/*#__PURE__*/react_default.a.createElement(\"h1\",null,\"Customers\");};/* harmony default export */ var customers = (customers_Customers);\n// CONCATENATED MODULE: ./src/components/Rentals.jsx\nvar Rentals_Rentals=function Rentals(){return/*#__PURE__*/react_default.a.createElement(\"h1\",null,\"Rentals\");};/* harmony default export */ var components_Rentals = (Rentals_Rentals);\n// CONCATENATED MODULE: ./src/components/notFound.jsx\nvar notFound_NotFound=function NotFound(){return/*#__PURE__*/react_default.a.createElement(\"h1\",null,\"Not Found\");};/* harmony default export */ var notFound = (notFound_NotFound);\n// EXTERNAL MODULE: ./node_modules/joi-browser/dist/joi-browser.js\nvar joi_browser = __webpack_require__(9);\nvar joi_browser_default = /*#__PURE__*/__webpack_require__.n(joi_browser);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(45);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./src/components/common/input.jsx\nvar input_Input=function Input(_ref){var name=_ref.name,label=_ref.label,error=_ref.error,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"name\",\"label\",\"error\"]);return/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/react_default.a.createElement(\"label\",{htmlFor:(name,label)},label),/*#__PURE__*/react_default.a.createElement(\"input\",Object.assign({},rest,{name:name,id:name,className:\"form-control\"})),error&&/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"alert alert-danger\"},error));};/* harmony default export */ var common_input = (input_Input);\n// CONCATENATED MODULE: ./src/components/common/select.jsx\nvar select_Select=function Select(_ref){var name=_ref.name,label=_ref.label,options=_ref.options,error=_ref.error,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"name\",\"label\",\"options\",\"error\"]);return/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/react_default.a.createElement(\"label\",{htmlFor:name},label),/*#__PURE__*/react_default.a.createElement(\"select\",Object.assign({name:name,id:name},rest,{className:\"form-control\"}),/*#__PURE__*/react_default.a.createElement(\"option\",{value:\"\"}),options.map(function(option){return/*#__PURE__*/react_default.a.createElement(\"option\",{key:option._id,value:option._id},option.name);})),error&&/*#__PURE__*/react_default.a.createElement(\"div\",{className:\"alert alert-danger\"},error));};/* harmony default export */ var common_select = (select_Select);\n// CONCATENATED MODULE: ./src/components/common/form.jsx\nvar form_Form=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Form,_Component);var _super=Object(createSuper[\"a\" /* default */])(Form);function Form(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Form);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:{},errors:{}};_this.validate=function(){var options={abortEarly:false};var _Joi$validate=joi_browser_default.a.validate(_this.state.data,_this.schema,options),error=_Joi$validate.error;if(!error)return null;var errors={};var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(error.details),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;errors[item.path[0]]=item.message;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return errors;};_this.validateProperty=function(_ref){var name=_ref.name,value=_ref.value;var obj=Object(defineProperty[\"a\" /* default */])({},name,value);var schema=Object(defineProperty[\"a\" /* default */])({},name,_this.schema[name]);var _Joi$validate2=joi_browser_default.a.validate(obj,schema),error=_Joi$validate2.error;return error?error.details[0].message:null;};_this.handleSubmit=function(e){e.preventDefault();var errors=_this.validate();_this.setState({errors:errors||{}});if(errors)return;_this.doSubmit();};_this.handleChange=function(_ref2){var input=_ref2.currentTarget;var errors=Object(objectSpread2[\"a\" /* default */])({},_this.state.error);var errorMessage=_this.validateProperty(input);if(errorMessage)errors[input.name]=errorMessage;else delete errors[input.name];var data=Object(objectSpread2[\"a\" /* default */])({},_this.state.data);data[input.name]=input.value;_this.setState({data:data,errors:errors});};return _this;}Object(createClass[\"a\" /* default */])(Form,[{key:\"renderButton\",value:function renderButton(label){return/*#__PURE__*/react_default.a.createElement(\"button\",{disabled:this.validate(),className:\"btn btn-primary\"},label);}},{key:\"renderInput\",value:function renderInput(name,label){var type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"text\";var _this$state=this.state,data=_this$state.data,errors=_this$state.errors;return/*#__PURE__*/react_default.a.createElement(common_input,{type:type,name:name,value:data[name],label:label,onChange:this.handleChange,error:errors[name]});}},{key:\"renderSelect\",value:function renderSelect(name,label,options){var _this$state2=this.state,data=_this$state2.data,errors=_this$state2.errors;return/*#__PURE__*/react_default.a.createElement(common_select,{name:name,value:data[name],label:label,options:options,onChange:this.handleChange,error:errors[name]});}}]);return Form;}(react[\"Component\"]);/* harmony default export */ var common_form = (form_Form);\n// CONCATENATED MODULE: ./src/components/movieForms.jsx\nvar movieForms_MovieForm=/*#__PURE__*/function(_Form){Object(inherits[\"a\" /* default */])(MovieForm,_Form);var _super=Object(createSuper[\"a\" /* default */])(MovieForm);function MovieForm(){var _this;Object(classCallCheck[\"a\" /* default */])(this,MovieForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:{title:\"\",genreId:\"\",numberInStock:\"\",dailyRentalRate:\"\"},genres:[],errors:{}};_this.schema={_id:joi_browser_default.a.string(),title:joi_browser_default.a.string().required().label(\"Title\"),numberInStock:joi_browser_default.a.number().min(0).max(10).required().label(\"Number In Stock\"),dailyRentalRate:joi_browser_default.a.number().required().label(\"Daily Rental Rate\"),genreId:joi_browser_default.a.string().required().label(\"Genre \")};_this.doSubmit=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return saveMovie(_this.state.data);case 2:_this.props.history.push(\"/movies\");case 3:case\"end\":return _context.stop();}}},_callee);}));return _this;}Object(createClass[\"a\" /* default */])(MovieForm,[{key:\"populateGenres\",value:function(){var _populateGenres=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var _yield$getGenres,genres;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getGenres();case 2:_yield$getGenres=_context2.sent;genres=_yield$getGenres.data;this.setState({genres:genres});case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function populateGenres(){return _populateGenres.apply(this,arguments);}return populateGenres;}()},{key:\"populateMovie\",value:function(){var _populateMovie=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var movieId,_yield$getMovie,movie;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;movieId=this.props.match.params.id;if(!(movieId===\"new\")){_context3.next=4;break;}return _context3.abrupt(\"return\");case 4:_context3.next=6;return getMovie(movieId);case 6:_yield$getMovie=_context3.sent;movie=_yield$getMovie.data;this.setState({data:this.mapToViewModel(movie)});_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);if(_context3.t0.response&&_context3.t0.response.status===404)this.props.history.replace(\"/not-found\");case 14:case\"end\":return _context3.stop();}}},_callee3,this,[[0,11]]);}));function populateMovie(){return _populateMovie.apply(this,arguments);}return populateMovie;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.populateGenres();case 2:_context4.next=4;return this.populateMovie();case 4:case\"end\":return _context4.stop();}}},_callee4,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"mapToViewModel\",value:function mapToViewModel(movie){return{_id:movie._id,title:movie.title,genreId:movie.genre._id,numberInStock:movie.numberInstock,dailyRentalRate:movie.dailyRentalRate};}},{key:\"render\",value:function render(){return/*#__PURE__*/react_default.a.createElement(\"div\",null,/*#__PURE__*/react_default.a.createElement(\"h1\",null,\"Movie Form\"),/*#__PURE__*/react_default.a.createElement(\"form\",{onSubmit:this.handleSubmit},this.renderInput(\"title\",\"Title\"),this.renderSelect(\"genreId\",\"Genre\",this.state.genres),this.renderInput(\"numberInStock\",\"Number In Stock\",\"number\"),this.renderInput(\"dailyRentalRate\",\"Rate\"),this.renderButton(\"Save\")));}}]);return MovieForm;}(common_form);/* harmony default export */ var movieForms = (movieForms_MovieForm);\n// CONCATENATED MODULE: ./src/components/common/loginForm.jsx\nvar loginForm_LoginForm=/*#__PURE__*/function(_Form){Object(inherits[\"a\" /* default */])(LoginForm,_Form);var _super=Object(createSuper[\"a\" /* default */])(LoginForm);function LoginForm(){var _this;Object(classCallCheck[\"a\" /* default */])(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:{username:\"\",password:\"\"},errors:{}};_this.schema={username:joi_browser_default.a.string().required().label(\"Username\"),password:joi_browser_default.a.string().required().label(\"Password\")};_this.doSubmit=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var state,_errors;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return authServices.login(_this.state.data.username,_this.state.data.password);case 3:state=_this.props.location.state;window.location=state?state.from.pathname:\"/\";_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(_context.t0.response&&_context.t0.response.status===400){_errors=Object(objectSpread2[\"a\" /* default */])({},_this.state.errors);_errors.username=_context.t0.response.data;_this.setState({errors:_errors});}case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _this;}Object(createClass[\"a\" /* default */])(LoginForm,[{key:\"render\",value:function render(){if(authServices.getCurrentUser())return/*#__PURE__*/react_default.a.createElement(react_router[\"a\" /* Redirect */],{to:\"/\"});return/*#__PURE__*/react_default.a.createElement(\"div\",null,/*#__PURE__*/react_default.a.createElement(\"h1\",null,\"Login\"),/*#__PURE__*/react_default.a.createElement(\"form\",{onSubmit:this.handleSubmit},this.renderInput(\"username\",\"Username\"),this.renderInput(\"password\",\"Password\",\"password\"),this.renderButton(\"Login\")));}}]);return LoginForm;}(common_form);/* harmony default export */ var loginForm = (loginForm_LoginForm);\n// CONCATENATED MODULE: ./src/components/services/userService.js\nvar userService_apiEndpoint=config[\"a\" /* apiUrl */]+\"/users\";function register(user){return httpService.post(userService_apiEndpoint,{email:user.username,password:user.password,name:user.name});}\n// CONCATENATED MODULE: ./src/components/registerForm.jsx\nvar registerForm_RegisterForm=/*#__PURE__*/function(_Form){Object(inherits[\"a\" /* default */])(RegisterForm,_Form);var _super=Object(createSuper[\"a\" /* default */])(RegisterForm);function RegisterForm(){var _this;Object(classCallCheck[\"a\" /* default */])(this,RegisterForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:{username:\"\",password:\"\",name:\"\"},errors:{}};_this.schema={username:joi_browser_default.a.string().email().required().label(\"Username\"),password:joi_browser_default.a.string().min(5).required().label(\"Password\"),name:joi_browser_default.a.string().required().label(\"Name\")};_this.doSubmit=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,errors;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return register(_this.state.data);case 3:response=_context.sent;authServices.loginWithJwt(response.headers[\"x-auth-token\"]);_this.props.history.push(\"/\");_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(_context.t0.response&&_context.t0.response.status===400){errors=Object(objectSpread2[\"a\" /* default */])({},_this.state.errors);errors.username=_context.t0.response.data;_this.setState({errors:errors});}case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _this;}Object(createClass[\"a\" /* default */])(RegisterForm,[{key:\"render\",value:function render(){return/*#__PURE__*/react_default.a.createElement(\"div\",null,/*#__PURE__*/react_default.a.createElement(\"h1\",null,\"Register\"),/*#__PURE__*/react_default.a.createElement(\"form\",{onSubmit:this.handleSubmit},this.renderInput(\"username\",\"Username\",\"email\"),this.renderInput(\"password\",\"Password\",\"password\"),this.renderInput(\"name\",\"Name\"),this.renderButton(\"Register\")));}}]);return RegisterForm;}(common_form);/* harmony default export */ var registerForm = (registerForm_RegisterForm);\n// CONCATENATED MODULE: ./src/components/common/logout.jsx\nvar logout_Logout=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Logout,_Component);var _super=Object(createSuper[\"a\" /* default */])(Logout);function Logout(){Object(classCallCheck[\"a\" /* default */])(this,Logout);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Logout,[{key:\"componentDidMount\",value:function componentDidMount(){authServices.logout();window.location=\"/\";}},{key:\"render\",value:function render(){return null;}}]);return Logout;}(react[\"Component\"]);/* harmony default export */ var common_logout = (logout_Logout);\n// EXTERNAL MODULE: ./node_modules/react-toastify/dist/ReactToastify.css\nvar ReactToastify = __webpack_require__(74);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(75);\n\n// CONCATENATED MODULE: ./src/components/common/protectedRoute.jsx\nvar protectedRoute_ProtectedRoute=function ProtectedRoute(_ref){var path=_ref.path,Component=_ref.component,_render=_ref.render,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"path\",\"component\",\"render\"]);return/*#__PURE__*/react_default.a.createElement(react_router[\"b\" /* Route */],Object.assign({},rest,{render:function render(props){if(!authServices.getCurrentUser())return/*#__PURE__*/react_default.a.createElement(react_router[\"a\" /* Redirect */],{to:{pathname:\"/login\",state:{from:props.location}}});return Component?/*#__PURE__*/react_default.a.createElement(Component,props):_render(props);}}));};/* harmony default export */ var protectedRoute = (protectedRoute_ProtectedRoute);\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(App,_Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"componentDidMount\",value:function componentDidMount(){var user=authServices.getCurrentUser();this.setState({user:user});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/react_default.a.createElement(react_default.a.Fragment,null,/*#__PURE__*/react_default.a.createElement(react_toastify_esm[\"a\" /* ToastContainer */],null),/*#__PURE__*/react_default.a.createElement(navBar,{user:this.state.user}),/*#__PURE__*/react_default.a.createElement(\"main\",{className:\"container\"},/*#__PURE__*/react_default.a.createElement(react_router[\"d\" /* Switch */],null,/*#__PURE__*/react_default.a.createElement(react_router[\"b\" /* Route */],{path:\"/register\",component:registerForm}),/*#__PURE__*/react_default.a.createElement(react_router[\"b\" /* Route */],{path:\"/login\",component:loginForm}),/*#__PURE__*/react_default.a.createElement(protectedRoute,{path:\"/movies/:id\",component:movieForms}),/*#__PURE__*/react_default.a.createElement(react_router[\"b\" /* Route */],{path:\"/movies\",render:function render(props){return/*#__PURE__*/react_default.a.createElement(components_movies,Object.assign({},props,{user:_this2.state.user}));}}),/*#__PURE__*/react_default.a.createElement(react_router[\"b\" /* Route */],{path:\"/customers\",component:customers}),/*#__PURE__*/react_default.a.createElement(react_router[\"b\" /* Route */],{path:\"/rentals\",component:components_Rentals}),/*#__PURE__*/react_default.a.createElement(react_router[\"b\" /* Route */],{path:\"/not-found\",component:notFound}),/*#__PURE__*/react_default.a.createElement(react_router[\"b\" /* Route */],{path:\"/logout\",component:common_logout}),/*#__PURE__*/react_default.a.createElement(react_router[\"a\" /* Redirect */],{from:\"/\",exact:true,to:\"/movies\"}),/*#__PURE__*/react_default.a.createElement(react_router[\"a\" /* Redirect */],{to:\"/not-found\"}))));}}]);return App;}(react[\"Component\"]);/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function serviceWorker_register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();}).catch(function(error){console.error(error.message);});}}\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.css\nvar bootstrap = __webpack_require__(76);\n\n// EXTERNAL MODULE: ./node_modules/font-awesome/css/font-awesome.css\nvar font_awesome = __webpack_require__(77);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/react_default.a.createElement(react_default.a.StrictMode,null,/*#__PURE__*/react_default.a.createElement(react_router_dom[\"a\" /* BrowserRouter */],null,/*#__PURE__*/react_default.a.createElement(src_App_0,null))),document.getElementById(\"root\"));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nunregister();\n\n/***/ })\n\n},[[78,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/swapnil/Desktop/React/vidly/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/swapnil/Desktop/React/vidly/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/swapnil/Desktop/React/vidly/node_modules/postcss-loader/src/index.js??postcss!/home/swapnil/Desktop/React/vidly/src/index.css","/home/swapnil/Desktop/React/vidly/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/swapnil/Desktop/React/vidly/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/swapnil/Desktop/React/vidly/node_modules/postcss-loader/src/index.js??postcss!/home/swapnil/Desktop/React/vidly/src/App.css","/home/swapnil/Desktop/React/vidly/src/components/services/logService.js","/home/swapnil/Desktop/React/vidly/src/components/services/httpService.js","/home/swapnil/Desktop/React/vidly/src/components/services/authServices.js","/home/swapnil/Desktop/React/vidly/src/components/common/navBar.jsx","/home/swapnil/Desktop/React/vidly/src/components/services/movieService.js","/home/swapnil/Desktop/React/vidly/src/components/services/genreService.js","/home/swapnil/Desktop/React/vidly/src/components/common/pagination.jsx","/home/swapnil/Desktop/React/vidly/src/utils/paginate.js","/home/swapnil/Desktop/React/vidly/src/components/common/listGroup.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/like.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/tableHeader.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/tableBody.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/table.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/moviesTable.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/search.jsx","/home/swapnil/Desktop/React/vidly/src/components/movies.jsx","/home/swapnil/Desktop/React/vidly/src/components/customers.jsx","/home/swapnil/Desktop/React/vidly/src/components/Rentals.jsx","/home/swapnil/Desktop/React/vidly/src/components/notFound.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/input.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/select.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/form.jsx","/home/swapnil/Desktop/React/vidly/src/components/movieForms.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/loginForm.jsx","/home/swapnil/Desktop/React/vidly/src/components/services/userService.js","/home/swapnil/Desktop/React/vidly/src/components/registerForm.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/logout.jsx","/home/swapnil/Desktop/React/vidly/src/components/common/protectedRoute.jsx","/home/swapnil/Desktop/React/vidly/src/App.js","/home/swapnil/Desktop/React/vidly/src/serviceWorker.js","/home/swapnil/Desktop/React/vidly/src/index.js"],"names":["init","log","error","console","axios","interceptors","response","use","expectedError","status","toast","logger","Promise","reject","setJwt","jwt","defaults","headers","common","get","post","put","delete","patch","apiEndpoint","apiUrl","tokenKey","http","getJwt","login","email","password","data","localStorage","setItem","logout","removeItem","getCurrentUser","getItem","jwtDecode","ex","loginWithJwt","NavBar","user","name","movieUrl","id","getMovies","getMovie","movieId","deleteMovies","saveMovie","movie","_id","body","genres","getGenres","Pagination","props","itemsCount","pageSize","currentPage","pagesCount","Math","ceil","pages","_","range","map","page","onPageChange","paginate","items","pageNumber","startIndex","slice","take","value","ListGroup","textProperty","valueProperty","onItemSelect","selectedItem","item","defaultProps","Like","classes","liked","onClick","cursor","TableHeader","raiseSort","path","sortColumn","order","onSort","renderSortIcon","column","columns","key","lable","Component","TableBody","renderCell","content","Table","MoviesTable","title","onLike","deleteColumn","onDelete","auth","isAdmin","push","movies","SearchBox","onChange","e","currentTarget","Movies","state","searchQuery","selectedGenre","handleDelete","originalMovies","filter","m","setState","handleLike","index","indexOf","handlePageChange","handleGenreSelect","genre","handleSort","handleSearch","query","getPagedDate","allmovies","filtered","toLowerCase","startsWith","sorted","orderBy","totalCount","length","count","marginBottom","Customers","Rentals","NotFound","Input","label","rest","Select","options","option","Form","errors","validate","abortEarly","Joi","schema","details","message","validateProperty","obj","handleSubmit","preventDefault","doSubmit","handleChange","input","errorMessage","type","MovieForm","genreId","numberInStock","dailyRentalRate","string","required","number","min","max","history","match","params","mapToViewModel","replace","populateGenres","populateMovie","numberInstock","renderInput","renderSelect","renderButton","LoginForm","username","location","window","from","pathname","register","RegisterForm","Logout","ProtectedRoute","component","render","App","isLocalhost","Boolean","hostname","config","process","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","then","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","fetch","contentType","unregister","reload","ReactDOM","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","function init() {}\nfunction log(error) {\n  console.error(error);\n}\n\nexport default {\n  init,\n  log,\n};\n","import axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport logger from \"./logService\";\n\naxios.interceptors.response.use(null, (error) => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n  if (!expectedError) {\n    toast.error(\"An unexpected error occured\");\n  }\n  logger.log(error);\n  return Promise.reject(error);\n});\nfunction setJwt(jwt) {\n  axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n}\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n  patch: axios.patch,\n  setJwt,\n};\n","import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\nimport jwtDecode from \"jwt-decode\";\n\nconst apiEndpoint = apiUrl + \"/auth\";\nconst tokenKey = \"token\";\n\nhttp.setJwt(getJwt());\n\nexport async function login(email, password) {\n  const { data: jwt } = await http.post(apiEndpoint, { email, password });\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\n\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\n\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  loginWithJwt,\n  getJwt,\n};\n","import React from \"react\";\nimport { NavLink, Link } from \"react-router-dom\";\n\nconst NavBar = ({ user }) => {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <Link className=\"navbar-brand\" to=\"/\">\n        Vidly\n      </Link>\n      <button\n        className=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarNav\"\n        aria-controls=\"navbarNav\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n      <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul className=\"navbar-nav\">\n          <NavLink className=\"nav-item nav-link\" to=\"/movies\">\n            Movies\n          </NavLink>\n          <NavLink className=\"nav-item nav-link\" to=\"/customers\">\n            Customers\n          </NavLink>\n          <NavLink className=\"nav-item nav-link\" to=\"/rentals\">\n            Rentals\n          </NavLink>\n\n          {!user && (\n            <React.Fragment>\n              <NavLink className=\"nav-item nav-link\" to=\"/login\">\n                Login\n              </NavLink>\n              <NavLink className=\"nav-link\" to=\"/register\">\n                Register\n              </NavLink>\n            </React.Fragment>\n          )}\n          {user && (\n            <React.Fragment>\n              <NavLink className=\"nav-item nav-link\" to=\"/profile\">\n                {user.name}\n              </NavLink>\n              <NavLink className=\"nav-item nav-link\" to=\"/logout\">\n                Logout\n              </NavLink>\n            </React.Fragment>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\n\nconst apiEndpoint = apiUrl + \"/movies/\";\nfunction movieUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\nexport function getMovies() {\n  return http.get(apiEndpoint);\n}\n\nexport function getMovie(movieId) {\n  return http.get(movieUrl(movieId));\n}\n\nexport function deleteMovies(movieId) {\n  return http.delete(movieUrl(movieId));\n}\n\nexport function saveMovie(movie) {\n  if (movie._id) {\n    const body = { ...movie };\n    delete body._id;\n    return http.put(movieUrl(movie._id), body);\n  }\n  http.post(apiEndpoint, movie);\n}\n","import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\nexport const genres = [\n  { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n\n  { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n  { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n];\n\nexport function getGenres() {\n  return http.get(apiUrl + \"/genres\");\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\n\nconst Pagination = (props) => {\n  const { itemsCount, pageSize, currentPage } = props;\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  if (pagesCount === 1) return null;\n  const pages = _.range(1, pagesCount + 1);\n  return (\n    <nav>\n      <ul className=\"pagination\">\n        {pages.map((page) => (\n          <li\n            key={page}\n            className={page === currentPage ? \"page-item active\" : \"page-item\"}\n          >\n            <a className=\"page-link\" onClick={() => props.onPageChange(page)}>\n              {page}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nPagination.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n","import _ from \"lodash\";\n\nexport function paginate(items, pageNumber, pageSize) {\n  const startIndex = (pageNumber - 1) * pageSize;\n  return _(items).slice(startIndex).take(pageSize).value();\n}\n","import React from \"react\";\n\nconst ListGroup = ({\n  items,\n  textProperty,\n  valueProperty,\n  onItemSelect,\n  selectedItem,\n}) => {\n  return (\n    <ul>\n      {items.map((item) => (\n        <li\n          key={item[valueProperty]}\n          className={\n            item === selectedItem ? \"list-group-item active\" : \"list-group-item\"\n          }\n          onClick={() => onItemSelect(item)}\n        >\n          {item[textProperty]}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nListGroup.defaultProps = {\n  textProperty: \"name\",\n  valueProperty: \"id\",\n};\n\nexport default ListGroup;\n","import React from \"react\";\n\nconst Like = props => {\n  let classes = \"fa fa-heart\";\n  if (!props.liked) classes += \"-o\";\n  return (\n    <i\n      onClick={props.onClick}\n      style={{ cursor: \"pointer\" }}\n      className={classes}\n      aria-hidden=\"true\"\n    />\n  );\n};\n\nexport default Like;","import React, { Component } from \"react\";\n\nclass TableHeader extends Component {\n  raiseSort = (path) => {\n    const sortColumn = { ...this.props.sortColumn };\n    if (sortColumn.path === path)\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\n    else {\n      sortColumn.path = path;\n      sortColumn.order = \"asc\";\n    }\n    this.props.onSort(sortColumn);\n  };\n\n  renderSortIcon = (column) => {\n    const { sortColumn } = this.props;\n    if (column.path !== sortColumn.path) return null;\n    if (sortColumn.order === \"asc\") return <i className=\"fa fa-sort-asc\"></i>;\n    return <i className=\"fa fa-sort-desc\"></i>;\n  };\n\n  render() {\n    return (\n      <thead>\n        <tr>\n          {this.props.columns.map((column) => (\n            <th\n              className=\"clickable\"\n              key={column.path || column.key}\n              onClick={() => this.raiseSort(column.path)}\n            >\n              {column.lable} {this.renderSortIcon(column)}\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n}\n\nexport default TableHeader;\n","import React, { Component } from \"react\";\nimport _ from \"lodash\";\nclass TableBody extends Component {\n  renderCell = (item, column) => {\n    if (column.content) return column.content(item);\n    return _.get(item, column.path);\n  };\n\n  render() {\n    const { data, columns } = this.props;\n\n    return (\n      <tbody>\n        {data.map((item) => (\n          <tr key={item._id}>\n            {columns.map((column) => (\n              <td key={item._id + (column.path || column.key)}>\n                {this.renderCell(item, column)}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n\nexport default TableBody;\n","import React, { Component } from \"react\";\nimport TableHeader from \"./tableHeader\";\nimport TableBody from \"./tableBody\";\n\nconst Table = ({ columns, sortColumn, onSort, data }) => {\n  return (\n    <table className=\"table\">\n      <TableHeader columns={columns} sortColumn={sortColumn} onSort={onSort} />\n      <TableBody data={data} columns={columns} />\n    </table>\n  );\n};\n\nexport default Table;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Like from \"./like\";\nimport Table from \"./table\";\nimport auth from \"../services/authServices\";\n\nclass MoviesTable extends Component {\n  columns = [\n    {\n      path: \"title\",\n      lable: \"Title\",\n      content: (movie) => (\n        <Link to={`/movies/${movie._id}`}>{movie.title}</Link>\n      ),\n    },\n    { path: \"genre.name\", lable: \"Genre\" },\n    { path: \"numberInStock\", lable: \"Stock\" },\n    { path: \"dailyRentalRate\", lable: \"Rate\" },\n    {\n      key: \"like\",\n      content: (movie) => (\n        <Like liked={movie.liked} onClick={() => this.props.onLike(movie)} />\n      ),\n    },\n  ];\n\n  deleteColumn = {\n    key: \"delete\",\n    content: (movie) => (\n      <button\n        onClick={() => this.props.onDelete(movie)}\n        className=\"btn btn-danger btn-sm\"\n      >\n        Delete\n      </button>\n    ),\n  };\n\n  constructor() {\n    super();\n    const user = auth.getCurrentUser();\n    if (user && user.isAdmin) this.columns.push(this.deleteColumn);\n  }\n  render() {\n    const { movies, onSort, sortColumn } = this.props;\n\n    return (\n      <Table\n        columns={this.columns}\n        data={movies}\n        onSort={onSort}\n        sortColumn={sortColumn}\n      />\n    );\n  }\n}\n\nexport default MoviesTable;\n","import React from \"react\";\nconst SearchBox = ({ value, onChange }) => {\n  return (\n    <input\n      type=\"text name=\"\n      query\n      className=\"form-control my-3\"\n      placeholder=\"Search...\"\n      value={value}\n      onChange={(e) => onChange(e.currentTarget.value)}\n    ></input>\n  );\n};\n\nexport default SearchBox;\n","import React, { Component } from \"react\";\nimport { getMovies, deleteMovies } from \"./services/movieService\";\nimport { getGenres } from \"./services/genreService\";\nimport Pagination from \"./common/pagination\";\nimport { paginate } from \"../utils/paginate\";\nimport ListGroup from \"./common/listGroup\";\nimport MoviesTable from \"./common/moviesTable\";\nimport _ from \"lodash\";\nimport { Link } from \"react-router-dom\";\nimport SearchBox from \"./common/search\";\nimport { toast } from \"react-toastify\";\n\nclass Movies extends Component {\n  state = {\n    movies: getMovies(),\n    pageSize: 4,\n    currentPage: 1,\n    genres: [],\n    sortColumn: { path: \"title\", order: \"asc\" },\n    searchQuery: \"\",\n    selectedGenre: null,\n  };\n  async componentDidMount() {\n    const { data } = await getGenres();\n    const genres = [{ name: \"All Genres\" }, ...data];\n    const { data: movies } = await getMovies();\n    this.setState({ movies, genres });\n  }\n\n  handleDelete = async (movie) => {\n    const originalMovies = this.state.movies;\n    const movies = originalMovies.filter((m) => m._id !== movie._id);\n    this.setState({ movies });\n\n    try {\n      await deleteMovies(movie._id);\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        toast.error(\"This movie has already been deleted.\");\n\n      this.setState({ movies: originalMovies });\n    }\n  };\n  handleLike = (movie) => {\n    const movies = [...this.state.movies];\n    const index = movies.indexOf(movie);\n    movies[index] = { ...movies[index] };\n    movies[index].liked = !movies[index].liked;\n    this.setState({ movies });\n  };\n\n  handlePageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n  handleGenreSelect = (genre) => {\n    this.setState({ selectedGenre: genre, searchQuery: \"\", currentPage: 1 });\n  };\n  handleSort = (sortColumn) => {\n    this.setState({ sortColumn });\n  };\n  handleSearch = (query) => {\n    this.setState({ searchQuery: query, selectedGenre: null, currentPage: 1 });\n  };\n\n  getPagedDate = () => {\n    const {\n      pageSize,\n      currentPage,\n      selectedGenre,\n      movies: allmovies,\n      sortColumn,\n    } = this.state;\n\n    let filtered = allmovies;\n    if (this.state.searchQuery)\n      filtered = allmovies.filter((m) =>\n        m.title.toLowerCase().startsWith(this.state.searchQuery.toLowerCase())\n      );\n    else if (selectedGenre && selectedGenre._id)\n      filtered = allmovies.filter((m) => m.genre._id === selectedGenre._id);\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n    const movies = paginate(sorted, currentPage, pageSize);\n    return { totalCount: filtered.length, data: movies };\n  };\n\n  render() {\n    const { length: count } = this.state.movies;\n    const { pageSize, currentPage, sortColumn } = this.state;\n    const { user } = this.props;\n    if (count === 0) return <p>There are no movies in the database.</p>;\n    const { totalCount, data: movies } = this.getPagedDate();\n    return (\n      <div className=\"row\">\n        <div className=\"col-3\">\n          <ListGroup\n            items={this.state.genres}\n            selectedItem={this.state.selectedGenre}\n            onItemSelect={this.handleGenreSelect}\n          />\n        </div>\n        <div className=\"col\">\n          {user && (\n            <Link\n              to=\"/movies/new\"\n              className=\"btn btn-primary\"\n              style={{ marginBottom: 20 }}\n            >\n              New Movie\n            </Link>\n          )}\n          <p>Showing {totalCount} movies in the database.</p>\n          <SearchBox\n            value={this.state.searchQuery}\n            onChange={this.handleSearch}\n          />\n          <MoviesTable\n            movies={movies}\n            sortColumn={sortColumn}\n            onLike={this.handleLike}\n            onDelete={this.handleDelete}\n            onSort={this.handleSort}\n          />\n          <Pagination\n            itemsCount={totalCount}\n            pageSize={pageSize}\n            onPageChange={this.handlePageChange}\n            currentPage={currentPage}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Movies;\n","import React from \"react\";\n\nconst Customers = () => {\n  return <h1>Customers</h1>;\n};\n\nexport default Customers;\n","import React from \"react\";\n\nconst Rentals = () => {\n  return <h1>Rentals</h1>;\n};\n\nexport default Rentals;\n","import React from \"react\";\n\nconst NotFound = () => {\n  return <h1>Not Found</h1>;\n};\n\nexport default NotFound;\n","import React from \"react\";\n\nconst Input = ({ name, label, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={(name, label)}>{label}</label>\n      <input {...rest} name={name} id={name} className=\"form-control\"></input>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\n\nconst Select = ({ name, label, options, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <select name={name} id={name} {...rest} className=\"form-control\">\n        <option value=\"\" />\n        {options.map((option) => (\n          <option key={option._id} value={option._id}>\n            {option.name}\n          </option>\n        ))}\n      </select>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { Component } from \"react\";\nimport Joi from \"joi-browser\";\nimport Input from \"./input\";\nimport Select from \"./select\";\n\nclass Form extends Component {\n  state = {\n    data: {},\n    errors: {},\n  };\n  validate = () => {\n    const options = { abortEarly: false };\n    const { error } = Joi.validate(this.state.data, this.schema, options);\n    if (!error) return null;\n\n    const errors = {};\n    for (let item of error.details) errors[item.path[0]] = item.message;\n    return errors;\n  };\n  validateProperty = ({ name, value }) => {\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n    return error ? error.details[0].message : null;\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n\n    this.doSubmit();\n  };\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.error };\n    const errorMessage = this.validateProperty(input);\n    if (errorMessage) errors[input.name] = errorMessage;\n    else delete errors[input.name];\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n    this.setState({ data, errors });\n  };\n  renderButton(label) {\n    return (\n      <button disabled={this.validate()} className=\"btn btn-primary\">\n        {label}\n      </button>\n    );\n  }\n  renderInput(name, label, type = \"text\") {\n    const { data, errors } = this.state;\n    return (\n      <Input\n        type={type}\n        name={name}\n        value={data[name]}\n        label={label}\n        onChange={this.handleChange}\n        error={errors[name]}\n      />\n    );\n  }\n\n  renderSelect(name, label, options) {\n    const { data, errors } = this.state;\n    return (\n      <Select\n        name={name}\n        value={data[name]}\n        label={label}\n        options={options}\n        onChange={this.handleChange}\n        error={errors[name]}\n      />\n    );\n  }\n}\n\nexport default Form;\n","import React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"./common/form\";\nimport { getGenres } from \"./services/genreService\";\nimport { getMovie } from \"./services/movieService\";\nimport { saveMovie } from \"./services/movieService\";\nclass MovieForm extends Form {\n  state = {\n    data: { title: \"\", genreId: \"\", numberInStock: \"\", dailyRentalRate: \"\" },\n    genres: [],\n    errors: {},\n  };\n\n  schema = {\n    _id: Joi.string(),\n    title: Joi.string().required().label(\"Title\"),\n    numberInStock: Joi.number()\n      .min(0)\n      .max(10)\n      .required()\n      .label(\"Number In Stock\"),\n    dailyRentalRate: Joi.number().required().label(\"Daily Rental Rate\"),\n    genreId: Joi.string().required().label(\"Genre \"),\n  };\n\n  async populateGenres() {\n    const { data: genres } = await getGenres();\n    this.setState({ genres });\n  }\n\n  async populateMovie() {\n    try {\n      const movieId = this.props.match.params.id;\n      if (movieId === \"new\") return;\n      const { data: movie } = await getMovie(movieId);\n      this.setState({ data: this.mapToViewModel(movie) });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        this.props.history.replace(\"/not-found\");\n    }\n  }\n  async componentDidMount() {\n    await this.populateGenres();\n    await this.populateMovie();\n  }\n\n  mapToViewModel(movie) {\n    return {\n      _id: movie._id,\n      title: movie.title,\n      genreId: movie.genre._id,\n      numberInStock: movie.numberInstock,\n      dailyRentalRate: movie.dailyRentalRate,\n    };\n  }\n\n  doSubmit = async () => {\n    //call the server\n    await saveMovie(this.state.data);\n    this.props.history.push(\"/movies\");\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Movie Form</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"title\", \"Title\")}\n          {this.renderSelect(\"genreId\", \"Genre\", this.state.genres)}\n          {this.renderInput(\"numberInStock\", \"Number In Stock\", \"number\")}\n          {this.renderInput(\"dailyRentalRate\", \"Rate\")}\n          {this.renderButton(\"Save\")}\n        </form>\n      </div>\n    );\n  }\n}\nexport default MovieForm;\n","import React from \"react\";\nimport Joi, { errors } from \"joi-browser\";\nimport Form from \"./form\";\nimport auth from \"../services/authServices\";\nimport { Redirect } from \"react-router-dom\";\n\nclass LoginForm extends Form {\n  state = {\n    data: { username: \"\", password: \"\" },\n    errors: {},\n  };\n\n  schema = {\n    username: Joi.string().required().label(\"Username\"),\n    password: Joi.string().required().label(\"Password\"),\n  };\n\n  doSubmit = async () => {\n    try {\n      await auth.login(this.state.data.username, this.state.data.password);\n      const { state } = this.props.location;\n      window.location = state ? state.from.pathname : \"/\";\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.username = ex.response.data;\n        this.setState({ errors });\n      }\n    }\n  };\n\n  render() {\n    if (auth.getCurrentUser()) return <Redirect to=\"/\" />;\n    return (\n      <div>\n        <h1>Login</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"username\", \"Username\")}\n          {this.renderInput(\"password\", \"Password\", \"password\")}\n          {this.renderButton(\"Login\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\n\nconst apiEndpoint = apiUrl + \"/users\";\nexport function register(user) {\n  return http.post(apiEndpoint, {\n    email: user.username,\n    password: user.password,\n    name: user.name,\n  });\n}\n","import React from \"react\";\nimport Form from \"./common/form\";\nimport Joi from \"joi-browser\";\nimport { register } from \"./services/userService\";\nimport auth from \"./services/authServices\";\n\nclass RegisterForm extends Form {\n  state = {\n    data: { username: \"\", password: \"\", name: \"\" },\n    errors: {},\n  };\n  schema = {\n    username: Joi.string().email().required().label(\"Username\"),\n    password: Joi.string().min(5).required().label(\"Password\"),\n    name: Joi.string().required().label(\"Name\"),\n  };\n  doSubmit = async () => {\n    try {\n      const response = await register(this.state.data);\n      auth.loginWithJwt(response.headers[\"x-auth-token\"]);\n      this.props.history.push(\"/\");\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.username = ex.response.data;\n        this.setState({ errors });\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Register</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"username\", \"Username\", \"email\")}\n          {this.renderInput(\"password\", \"Password\", \"password\")}\n          {this.renderInput(\"name\", \"Name\")}\n          {this.renderButton(\"Register\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default RegisterForm;\n","import React, { Component } from \"react\";\nimport auth from \"../services/authServices\";\nclass Logout extends Component {\n  componentDidMount() {\n    auth.logout();\n    window.location = \"/\";\n  }\n  render() {\n    return null;\n  }\n}\n\nexport default Logout;\n","import React from \"react\";\nimport auth from \"../services/authServices\";\nimport { Route } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ path, component: Component, render, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (!auth.getCurrentUser())\n          return (\n            <Redirect\n              to={{ pathname: \"/login\", state: { from: props.location } }}\n            />\n          );\n        return Component ? <Component {...props} /> : render(props);\n      }}\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { Component } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport auth from \"./components/services/authServices\";\nimport NavBar from \"./components/common/navBar\";\nimport Movies from \"./components/movies\";\nimport Customers from \"./components/customers\";\nimport Rentals from \"./components/Rentals\";\nimport NotFound from \"./components/notFound\";\nimport MovieForm from \"./components/movieForms\";\nimport LoginForm from \"./components/common/loginForm\";\nimport RegisterForm from \"./components/registerForm\";\nimport Logout from \"./components/common/logout\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\nimport ProtectedRoute from \"./components/common/protectedRoute\";\n\nclass App extends Component {\n  state = {};\n\n  componentDidMount() {\n    const user = auth.getCurrentUser();\n    this.setState({ user });\n  }\n  render() {\n    return (\n      <React.Fragment>\n        <ToastContainer />\n        <NavBar user={this.state.user} />\n        <main className=\"container\">\n          <Switch>\n            <Route path=\"/register\" component={RegisterForm} />\n            <Route path=\"/login\" component={LoginForm} />\n            <ProtectedRoute path=\"/movies/:id\" component={MovieForm} />\n            <Route\n              path=\"/movies\"\n              render={(props) => <Movies {...props} user={this.state.user} />}\n            />\n            <Route path=\"/customers\" component={Customers} />\n            <Route path=\"/rentals\" component={Rentals} />\n            <Route path=\"/not-found\" component={NotFound} />\n            <Route path=\"/logout\" component={Logout} />\n            <Redirect from=\"/\" exact to=\"/movies\" />\n            <Redirect to=\"/not-found\" />\n          </Switch>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]}}